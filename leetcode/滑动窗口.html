<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /**
     * @param {string} s
     * @return {number}
     */
    //  var lengthOfLongestSubstring = function(s) {
    //     // 哈希集合，记录每个字符是否出现过
    //     const occ = new Set();
    //     const n = s.length;
    //     // 右指针，初始值为 -1，相当于我们在字符串的左边界的左侧，还没有开始移动
    //     let rk = -1, ans = 0;
    //     for (let i = 0; i < n; ++i) {
    //         // console.log(occ)
    //         if (i != 0) {
    //             // 左指针向右移动一格，移除一个字符
    //             occ.delete(s.charAt(i - 1));
    //         }
    //         while (rk + 1 < n && !occ.has(s.charAt(rk + 1))) {
    //             // 不断地移动右指针
    //             // console.log(rk)
    //             occ.add(s.charAt(rk + 1));
    //             ++rk;
    //         }
    //         // 第 i 到 rk 个字符是一个极长的无重复字符子串
    //         ans = Math.max(ans, rk - i + 1);
    //     }
    //     return ans;
    // };
    // console.log(lengthOfLongestSubstring('abcdecf'))
    // var test = function (s) {
    //   let l = 0
    //   let r = 0
    //   let max = 0
    //   let str = ''
    //   for (let i = 0; i < s.length; i++) {
    //     console.log(str.slice(i + 1))
    //     while(r < s.length && str.indexOf(s[r]) == -1) {
    //       str += s[r]
    //       r++
    //     }
    //   }
    // }
    // console.log(test('abcdecf'))
    // pwwkew
    // 00,01,02
     var lengthOfLongestSubstring = function(s) {
      // 滑动
      // 仅维护左指针，让左指针一次+1，循环可当作右指针
      let l = 0
      let r = 0
      let num = 0
      let map = new Map()
      for (let i = 0; i < s.length; ++i) {
        r = i
        if (map.has(s[i])){
          l = map.get(s[i]) + 1
        }
        num = Math.max(num, r-l+1) //右-左+1
        map.set(s[i], i)
      }
      return num
    };
    // abcbacdca
    // 右指针滑动的条件：满足条件时右滑，否则左指针右滑，直到右指针满足条件
    // 00,01,02
    // 12,
    // 22,23,24
    // 34,35,36
    console.log(lengthOfLongestSubstring('peekew'))
    // 对3285736234求三个相邻数字最大和
    var fn = function (str){
      let sum = 0
      for(let i = 0; i< str.length - 2; i++){
        let a = str[i] + str[i+1] + str[i+2]
        sum = Math.max(sum, a)
      }
      return sum
    }
    console.log(fn('3285736234'))
  </script>
</body>
</html>