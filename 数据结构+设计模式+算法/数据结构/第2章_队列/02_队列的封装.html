<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 构造函数方式创建对象
    function Queue() {
      this.items = []
      Queue.prototype.enqueue = function (element) {
        this.items.push(element)
      }
      Queue.prototype.dequeue = function () {
        return this.items.shift()
      }
      Queue.prototype.front = function () {
        return this.items[0]
      }
      Queue.prototype.isEmpty = function () {
        return this.items.length === 0
      }
      Queue.prototype.size = function () {
        return this.items.length
      }
      Queue.prototype.toString = function () {
        return this.items.toString()
      }
    }
        var q = new Queue()
    q.enqueue(1)
    q.enqueue(2)
    q.enqueue(3)
    q.enqueue(4)
    q.enqueue(5)
    console.log(q)
    console.log(q.dequeue())
    console.log(q.front())
    console.log(q.isEmpty())
    console.log(q.size())
    console.log(q.toString())
    // 第一版
    class Queue1 {
      _items = []
      removeFront () {
        this._items.shift()
      }
      insertEnd (e) {
        this._items.push(e)
      }
      isEmpty () {
        return this._items.length == 0
      }
      size () {
        return this._items.length
      }
      clear () {
        this._items = []
      }
      toString () {
        return this._items.join('')
      }
    }

    let q1 = new Queue1()
    // 第二版
    class Queue2 {
      _data = {}
      _first = 0
      _last = 0
      removeFront () {
        let res = this._data[this._first]
        delete this._data[this._first]
        this._first++
        return res
      }
      insertEnd (e) {
        this._data[this._last] = e
        this._last++
      }
      isEmpty () {
        return this.size() == 0
      }
      size () {
        return this._last - this._first
      }
      clear () {
        this._items = {}
        this._first = 0
        this._last = 0
      }
      toString () {
        let res = ''
        for (let i = this._first; i < this._last; i++) {
          res += this._data[i]
        }
        return res
      }
    }
    let q2 = new Queue2()
  </script>
</body>
</html>