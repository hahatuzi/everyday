<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

  <div id="demo"></div>
  <script>
    var A = function (selector) {
      // return A.fn.init(selector) // 因为JQuery的木得是为了获取元素，返回的是一组元素簇，防止init方法内的this指向固定
      return new A.fn.init(selector) // 因为JQuery的木得是为了获取元素，返回的是一组元素簇
    }
    A.fn = A.prototype = {
      init:function (selector) {

        // return document.getElementById(selector)
        this[0] = document.getElementById(selector)
        this.length = 1
        console.log(this === A.fn, this === A.prototype)
        return this // 因为init方法的调用对象一直都是A.fn,所以this的指向一直没变
      },
      length:2,
      size:function () {
        return this.length
      }
    }
    console.log(A('demo'))
    // return A.fn.init(selector) // 0:div#demo,init:f(),length:1,size:f()
    // return new A.fn.init(selector) // 0:div#demo,length:1
  </script>
</body>
</html>